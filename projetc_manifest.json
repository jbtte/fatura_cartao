{
  "project_metadata": {
    "name": "Dashboard Financeiro Analítico Familiar",
    "description": "Ferramenta de Business Intelligence pessoal para análise de faturas de cartão de crédito, com foco em projeção de passivos futuros e análise comportamental de consumo.",
    "version": "1.2.0 (Refatorado)",
    "last_update": "2026-01-19",
    "owner_profile": "Analista Judiciário / Desenvolvedor Python",
    "objective": "Gestão financeira prudente visando mudança para o exterior e viagens familiares."
  },
  "tech_stack": {
    "language": "Python 3.11+",
    "core_framework": "Streamlit",
    "data_processing": "Pandas",
    "visualization": "Plotly Express",
    "styling": "Matplotlib (para gradientes em tabelas)",
    "utilities": [
      "Glob (leitura de arquivos)",
      "OS (manipulação de caminhos)",
      "Watchdog (para hot-reload durante desenvolvimento)"
    ]
  },
  "directory_structure": {
    "root": "fatura_cartao/",
    "files": [
      "app.py (Interface Visual)",
      "utils.py (Lógica de Negócios e ETL)",
      "constants.py (Configurações Estáticas)",
      "requirements.txt (Dependências)"
    ],
    "data_folder": "data/raw/ (Local para depositar os CSVs mensais)"
  },
  "data_logic": {
    "input_format": "CSV (separador detectado automaticamente)",
    "key_columns_required": [
      "Data",
      "Estabelecimento",
      "Categoria",
      "Valor_R$",
      "ParcelaAtual",
      "TotalParcelas",
      "MesAno"
    ],
    "calculated_fields": {
      "passivo_futuro": "(TotalParcelas - ParcelaAtual) * Valor_R$",
      "tipo_gasto": "Classificação binária (Essencial vs. Estilo de Vida) baseada em lista constante",
      "simulacao_usd": "Conversão de todos os valores monetários baseada em taxa fixa configurável"
    }
  },
  "dashboard_modules": {
    "module_1_visao_mensal": {
      "description": "Panorama geral do mês selecionado com KPIs e gráficos de distribuição.",
      "visualizations": [
        {
          "type": "Bar Chart",
          "title": "Gastos por Categoria",
          "library": "Plotly Express"
        },
        {
          "type": "Pie Chart",
          "title": "Essencial vs. Estilo de Vida",
          "library": "Plotly Express"
        },
        {
          "type": "Bar Chart (Horizontal)",
          "title": "Top 5 Estabelecimentos (Lei de Pareto)",
          "insight": "Identifica onde está concentrado o maior volume de gastos."
        },
        {
          "type": "Bar Chart",
          "title": "Intensidade de Gasto Semanal",
          "insight": "Mapeia os dias da semana com maior incidência de compras."
        }
      ],
      "interactive_elements": [
        "Filtro Multiselect por Categoria",
        "Seletor de Mês"
      ]
    },
    "module_2_comparador": {
      "description": "Ferramenta de duelo entre dois meses distintos.",
      "visualizations": [
        {
          "type": "Grouped Bar Chart",
          "title": "Comparativo Lado a Lado (Mês A vs Mês B)"
        },
        {
          "type": "Pandas Styler Table",
          "title": "Detalhe da Variação (Delta)",
          "feature": "Gradiente de cor (Heatmap) indicando aumento (vermelho) ou redução (verde) de gastos por categoria."
        }
      ]
    },
    "module_3_futuro": {
      "description": "Projeção de fluxo de caixa comprometido.",
      "visualizations": [
        {
          "type": "Area Chart",
          "title": "Comprometimento de Renda Futura",
          "logic": "Soma das parcelas restantes projetadas nos meses subsequentes."
        }
      ]
    }
  },
  "replication_steps": [
    "1. Criar diretório 'fatura_cartao' e subdiretórios 'data/raw'.",
    "2. Criar ambiente virtual: python -m venv venv",
    "3. Ativar venv: source venv/bin/activate",
    "4. Instalar dependências: pip install streamlit pandas plotly openpyxl matplotlib watchdog",
    "5. Criar os arquivos app.py, utils.py e constants.py com o código refatorado.",
    "6. Salvar arquivos CSV das faturas na pasta data/raw/.",
    "7. Executar aplicação: streamlit run app.py"
  ]
}
